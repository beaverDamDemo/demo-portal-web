import{f as x,l as G}from"./chunk-U2FTBW77.js";import{b as k,d as h,e as q,f as E,i as L,k as T,l as R,m as A,n as I,p as N,r as B,u as D,w as z}from"./chunk-E2HPYGYJ.js";import{Ab as P,Ac as S,Bb as M,Na as a,Nb as c,Pb as p,Qb as v,Rb as y,Sa as b,Za as O,db as w,ec as F,mb as m,nb as g,rb as C,sb as o,tb as l,ub as _}from"./chunk-WZV3EM4I.js";function U(i,d){i&1&&(o(0,"div",8),p(1,"This field is required"),l())}function V(i,d){i&1&&(o(0,"div",8),p(1,"This field is required"),l())}function j(i,d){if(i&1&&(_(0,"input",12),o(1,"div",7),m(2,V,2,0,"div",8),l()),i&2){let n,e,t=M();c("invalid",((n=t.authForm.get("username"))==null?null:n.invalid)&&(((n=t.authForm.get("username"))==null?null:n.dirty)||((n=t.authForm.get("username"))==null?null:n.touched)||t.isSubmitted)),a(2),g((e=t.authForm.get("username"))!=null&&e.hasError("required")&&((e=t.authForm.get("username"))!=null&&e.dirty||(e=t.authForm.get("username"))!=null&&e.touched||t.isSubmitted)?2:-1)}}function Y(i,d){i&1&&(o(0,"div",8),p(1,"This field is required"),l())}function $(i,d){i&1&&(o(0,"div",8),p(1,"This field is required"),l())}function J(i,d){if(i&1&&(_(0,"input",13),o(1,"div",7),m(2,$,2,0,"div",8),l()),i&2){let n,e,t=M();c("invalid",((n=t.authForm.get("confirmPassword"))==null?null:n.invalid)&&(((n=t.authForm.get("confirmPassword"))==null?null:n.dirty)||((n=t.authForm.get("confirmPassword"))==null?null:n.touched)||t.isSubmitted)),a(2),g((e=t.authForm.get("confirmPassword"))!=null&&e.hasError("required")&&((e=t.authForm.get("confirmPassword"))!=null&&e.dirty||(e=t.authForm.get("confirmPassword"))!=null&&e.touched||t.isSubmitted)?2:-1)}}var H=class i{constructor(d,n,e){this.authService=d;this.formBuilder=n;this.router=e;F(()=>{let r=new Date().toLocaleTimeString();console.log(`%c\u{1F552} ${r} \u2192 currentUserSig:`,"color: dodgerblue; font-style: italic;",this.authService.currentUserSig()),this.authService.currentUserSig()?(console.log("Navigating to profile"),this.authForm.disable(),this.router.navigate(["/profile"])):this.authService.currentUserSig()===null&&(console.log("Now we should enable it"),this.authForm.enable())});let t=document.getElementById("submit-button");t&&t.addEventListener("click",function(r){r.preventDefault();let s=document.querySelector("form");s&&(s.style.transition="opacity 0.5s ease",s.style.opacity="0",setTimeout(()=>{s.style.display="none"},500));let u=document.querySelector(".wrapper");u&&u.classList.add("form-success")})}authForm;isSubmitted=!1;showPassword=!1;isPasswordFocused=!1;mode="login";formSubmit=new w;ngOnInit(){this.authForm=this.formBuilder.group({email:["",[h.required,h.email]],username:["",this.mode==="register"?h.required:[]],password:["",h.required],confirmPassword:["",this.mode==="register"?h.required:[]]}),setTimeout(()=>{let d=document.querySelector("section");if(d){let n=d.offsetHeight,e=document.querySelector(".wrapper");e&&(e.style.height=`${n}px`);let t=document.querySelector(".bg-bubbles");if(t&&(t.style.height=`${n}px`,t.querySelectorAll("li").forEach(s=>{s.style.transform="translateY(0)"})),!document.getElementById("custom-square-animation")){let r=document.createElement("style");r.id="custom-square-animation",r.type="text/css",r.innerHTML=`
          @keyframes square {
            0% {
            transform: translateY(0);
            }
            100% {
            transform: translateY(-${n+199}px) rotate(600deg);
            }
          }
          `,document.head.appendChild(r)}}},0)}togglePasswordVisibility(){this.showPassword=!this.showPassword}onSubmit(){this.formSubmit.emit(this.authForm.value),this.isSubmitted=!0}static \u0275fac=function(n){return new(n||i)(b(G),b(I),b(x))};static \u0275cmp=O({type:i,selectors:[["app-login-and-register-form"]],inputs:{mode:"mode"},outputs:{formSubmit:"formSubmit"},decls:31,vars:25,consts:[[1,"wrapper"],[1,"bg-bubbles"],[1,"container"],[1,"form",3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"input-envelope"],["type","email","placeholder","email","formControlName","email","required",""],[1,"error-envelope"],[1,"error"],[1,"input-envelope",2,"position","relative"],["placeholder","password","formControlName","password","required","",3,"focus","blur","type"],["type","submit","id","submit-button",3,"disabled"],["type","text","placeholder","username","formControlName","username","required",""],["type","password","placeholder","confirm password","formControlName","confirmPassword","required",""]],template:function(n,e){if(n&1&&(o(0,"section")(1,"div",0)(2,"ul",1),_(3,"li")(4,"li")(5,"li")(6,"li")(7,"li")(8,"li")(9,"li")(10,"li")(11,"li")(12,"li"),l(),o(13,"div",2)(14,"form",3),P("ngSubmit",function(){return e.onSubmit()}),o(15,"h1",4),p(16),l(),o(17,"div",5),_(18,"input",6),o(19,"div",7),m(20,U,2,0,"div",8),l()(),o(21,"div",5),m(22,j,3,3),l(),o(23,"div",9)(24,"input",10),P("focus",function(){return e.isPasswordFocused=!0})("blur",function(){return e.isPasswordFocused=!1}),l(),o(25,"div",7),m(26,Y,2,0,"div",8),l()(),o(27,"div",5),m(28,J,3,3),l(),o(29,"button",11),p(30),l()()()()()),n&2){let t,r,s,u,f;c("login",e.mode==="login")("register",e.mode==="register"),a(),c("login",e.mode==="login")("register",e.mode==="register"),a(13),C("formGroup",e.authForm),a(2),v(e.mode==="login"?"Login":"Register"),a(2),c("invalid",((t=e.authForm.get("email"))==null?null:t.invalid)&&(((t=e.authForm.get("email"))==null?null:t.dirty)||((t=e.authForm.get("email"))==null?null:t.touched)||e.isSubmitted)),a(2),g((r=e.authForm.get("email"))!=null&&r.hasError("required")&&((r=e.authForm.get("email"))!=null&&r.dirty||(r=e.authForm.get("email"))!=null&&r.touched||e.isSubmitted)?20:-1),a(2),g(e.mode==="register"?22:-1),a(),c("isPasswordFocused",e.isPasswordFocused)("invalid",((s=e.authForm.get("password"))==null?null:s.invalid)&&(((s=e.authForm.get("password"))==null?null:s.dirty)||((s=e.authForm.get("password"))==null?null:s.touched)||e.isSubmitted)),a(),c("invalid",((u=e.authForm.get("password"))==null?null:u.invalid)&&(((u=e.authForm.get("password"))==null?null:u.dirty)||((u=e.authForm.get("password"))==null?null:u.touched)||e.isSubmitted)),C("type",e.showPassword?"text":"password"),a(2),g((f=e.authForm.get("password"))!=null&&f.hasError("required")&&((f=e.authForm.get("password"))!=null&&f.dirty||(f=e.authForm.get("password"))!=null&&f.touched||e.isSubmitted)?26:-1),a(2),g(e.mode==="register"?28:-1),a(),C("disabled",e.authService.currentUserSig()!==null||e.authForm.invalid),a(),y(" ",e.mode==="login"?"Login":"Register"," ")}},dependencies:[S,N,L,k,q,E,A,T,R,B,z,D],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}section[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;position:relative}section.login[_ngcontent-%COMP%]{background:#50a3a2;background:-webkit-linear-gradient(top left,#50a3a2 0%,#53e3a6 100%);background:-moz-linear-gradient(top left,#50a3a2 0%,#53e3a6 100%);background:-o-linear-gradient(top left,#50a3a2 0%,#53e3a6 100%);background:linear-gradient(to bottom right,#50a3a2,#53e3a6)}section.register[_ngcontent-%COMP%]{background:#00c6ff;background:-webkit-linear-gradient(top left,#00c6ff 0%,#0072ff 100%);background:-moz-linear-gradient(top left,#00c6ff 0%,#0072ff 100%);background:-o-linear-gradient(top left,#00c6ff 0%,#0072ff 100%);background:linear-gradient(to bottom right,#00c6ff,#0072ff)}.wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;overflow:hidden}.wrapper.login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#40c48d}.wrapper.register[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#0072ff}.wrapper.form-success[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{transform:translateY(85px)}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;height:100%;text-align:center;padding-top:40px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative;z-index:2}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;transition-duration:1s;transition-timing-function:ease-in-put;color:#fff;margin-top:5px;margin-bottom:30px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-envelope[_ngcontent-%COMP%]{display:flex;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-envelope[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{appearance:none;outline:0;border:1px solid rgba(255,255,255,.4);background-color:#fff3;width:250px;border-radius:3px;padding:10px 15px;margin:0 auto 5px;display:block;text-align:center;font-size:18px;color:#fff;transition-duration:.25s}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-envelope[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{background-color:#fff3}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-envelope[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#fff;background-color:#fff4;width:300px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-envelope[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{background-color:#ff450007;border-color:#ff450055;color:#ff450088}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-envelope[_ngcontent-%COMP%]   .error-envelope[_ngcontent-%COMP%]{min-height:1.125em;width:250px!important;max-width:250px!important;margin:0 auto}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{appearance:none;outline:0;background-color:#fff;border:0;padding:12px 15px;border-radius:3px;width:250px;cursor:pointer;font-size:18px;transition-duration:.25s}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f5f7f9}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{pointer-events:none}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#ff450088;font-size:11px;margin-top:-6px;margin-bottom:5px;text-align:left}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #show-password[_ngcontent-%COMP%]{position:absolute;width:24px;height:41px;right:4px;top:1px;display:flex;align-items:center;justify-content:center;background:#fff0}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #show-password[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;width:100%;color:#fff}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]   #show-password[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff450088}.bg-bubbles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;z-index:1}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;list-style:none;display:block;width:40px;height:40px;background-color:#fff2;bottom:-160px;-webkit-animation:square 25s infinite;animation:square 25s infinite;-webkit-transition-timing-function:linear;transition-timing-function:linear}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){left:10%}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){left:20%;width:80px;height:80px;animation-delay:2s;animation-duration:17s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){left:25%;animation-delay:4s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){left:40%;width:60px;height:60px;animation-duration:22s;background-color:#fff4}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){left:70%}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){left:80%;width:120px;height:120px;animation-delay:3s;background-color:#fff2}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7){left:32%;width:160px;height:160px;animation-delay:7s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(8){left:55%;width:20px;height:20px;animation-delay:15s;animation-duration:40s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(9){left:25%;width:10px;height:10px;animation-delay:2s;animation-duration:40s;background-color:#fff5}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(10){left:90%;width:160px;height:160px;animation-delay:11s}"],changeDetection:0})};export{H as a};
