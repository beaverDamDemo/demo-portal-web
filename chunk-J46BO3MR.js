import{f as k,l as U}from"./chunk-TI3MP7RG.js";import{b as q,d as _,e as R,f as L,i as A,k as E,l as I,m as T,n as N,p as D,q as z,r as B,u as j,w as G}from"./chunk-SP3QPNC3.js";import{Lb as m,Na as e,Nb as d,Ob as M,Pb as y,Ra as h,Xa as w,a as O,bb as v,cc as S,kb as p,lb as f,pb as b,qb as a,rb as c,sb as P,yb as C,yc as x,zb as F}from"./chunk-6UNQRV3C.js";function Y(i,g){i&1&&(a(0,"div",6),d(1,"This field is required"),c())}function $(i,g){i&1&&(a(0,"div",6),d(1,"This field is required"),c())}function H(i,g){i&1&&(a(0,"div",6),d(1,"This field is required"),c())}function J(i,g){if(i&1&&(P(0,"input",12),p(1,H,2,0,"div",6)),i&2){let o,n,t=F();m("invalid",((o=t.authForm.get("confirmPassword"))==null?null:o.invalid)&&(((o=t.authForm.get("confirmPassword"))==null?null:o.dirty)||((o=t.authForm.get("confirmPassword"))==null?null:o.touched)||t.isSubmitted)),e(),f((n=t.authForm.get("confirmPassword"))!=null&&n.hasError("required")&&((n=t.authForm.get("confirmPassword"))!=null&&n.dirty||(n=t.authForm.get("confirmPassword"))!=null&&n.touched||t.isSubmitted)?1:-1)}}var V=class i{constructor(g,o,n){this.authService=g;this.formBuilder=o;this.router=n;S(()=>{let l=new Date().toLocaleTimeString();console.log(`%c\u{1F552} ${l} \u2192 currentUserSig:`,"color: dodgerblue; font-style: italic;",this.authService.currentUserSig()),this.authService.currentUserSig()?(console.log("Navigating to profile"),this.authForm.disable(),this.router.navigate(["/profile"])):this.authService.currentUserSig()===null&&(console.log("Now we should enable it"),this.authForm.enable())});let t=document.getElementById("login-button");t&&t.addEventListener("click",function(l){l.preventDefault();let r=document.querySelector("form");r&&(r.style.transition="opacity 0.5s ease",r.style.opacity="0",setTimeout(()=>{r.style.display="none"},500));let s=document.querySelector(".wrapper");s&&s.classList.add("form-success")})}authForm;isSubmitted=!1;showPassword=!1;isPasswordFocused=!1;mode="login";formSubmit=new v;ngOnInit(){this.authForm=this.formBuilder.group(O({email:["",[_.required,_.email]],password:["",_.required]},this.mode==="register"&&{confirmPassword:["",_.required]}))}togglePasswordVisibility(){this.showPassword=!this.showPassword}onSubmit(){this.formSubmit.emit(this.authForm.value),this.isSubmitted=!0}static \u0275fac=function(o){return new(o||i)(h(U),h(N),h(k))};static \u0275cmp=w({type:i,selectors:[["app-login-and-register-form"]],inputs:{mode:"mode"},outputs:{formSubmit:"formSubmit"},decls:28,vars:21,consts:[[1,"wrapper"],[1,"container"],[1,"container-inner"],[1,"form",3,"ngSubmit","formGroup"],[1,"mb-4"],["type","text","placeholder","email","formControlName","email","required",""],[1,"error"],[2,"position","relative"],["placeholder","password","formControlName","password","required","",3,"focus","blur","type"],["id","show-password","type","button","tabindex","-1",1,"",3,"click"],["type","submit","id","login-button",3,"disabled"],[1,"bg-bubbles"],["type","password","placeholder","confirm password","formControlName","confirmPassword","required",""]],template:function(o,n){if(o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),C("ngSubmit",function(){return n.onSubmit()}),a(4,"h1",4),d(5),c(),P(6,"input",5),p(7,Y,2,0,"div",6),a(8,"div",7)(9,"input",8),C("focus",function(){return n.isPasswordFocused=!0})("blur",function(){return n.isPasswordFocused=!1}),c(),a(10,"button",9),C("click",function(){return n.showPassword=!n.showPassword}),a(11,"mat-icon"),d(12),c()()(),p(13,$,2,0,"div",6),p(14,J,2,3),a(15,"button",10),d(16),c()()()(),a(17,"ul",11),P(18,"li")(19,"li")(20,"li")(21,"li")(22,"li")(23,"li")(24,"li")(25,"li")(26,"li")(27,"li"),c()()),o&2){let t,l,r,s,u;m("login",n.mode==="login")("register",n.mode==="register"),e(3),b("formGroup",n.authForm),e(2),M(n.mode==="login"?"Login":"Register"),e(),m("invalid",((t=n.authForm.get("email"))==null?null:t.invalid)&&(((t=n.authForm.get("email"))==null?null:t.dirty)||((t=n.authForm.get("email"))==null?null:t.touched)||n.isSubmitted)),e(),f((l=n.authForm.get("email"))!=null&&l.hasError("required")&&((l=n.authForm.get("email"))!=null&&l.dirty||(l=n.authForm.get("email"))!=null&&l.touched||n.isSubmitted)?7:-1),e(),m("isPasswordFocused",n.isPasswordFocused)("invalid",((r=n.authForm.get("password"))==null?null:r.invalid)&&(((r=n.authForm.get("password"))==null?null:r.dirty)||((r=n.authForm.get("password"))==null?null:r.touched)||n.isSubmitted)),e(),m("invalid",((s=n.authForm.get("password"))==null?null:s.invalid)&&(((s=n.authForm.get("password"))==null?null:s.dirty)||((s=n.authForm.get("password"))==null?null:s.touched)||n.isSubmitted)),b("type",n.showPassword?"text":"password"),e(3),M(n.showPassword?"visibility_off":"visibility"),e(),f((u=n.authForm.get("password"))!=null&&u.hasError("required")&&((u=n.authForm.get("password"))!=null&&u.dirty||(u=n.authForm.get("password"))!=null&&u.touched||n.isSubmitted)?13:-1),e(),f(n.mode==="register"?14:-1),e(),b("disabled",n.authService.currentUserSig()!==null),e(),y(" ",n.mode==="login"?"Login":"Register"," ")}},dependencies:[x,D,A,q,R,L,T,E,I,B,z,G,j],styles:[".wrapper[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;width:100%;height:400px;margin-top:-200px;overflow:hidden}.wrapper.login[_ngcontent-%COMP%]{background:#50a3a2;background:-webkit-linear-gradient(top left,#50a3a2 0%,#53e3a6 100%);background:-moz-linear-gradient(top left,#50a3a2 0%,#53e3a6 100%);background:-o-linear-gradient(top left,#50a3a2 0%,#53e3a6 100%);background:linear-gradient(to bottom right,#50a3a2,#53e3a6)}.wrapper.login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#40c48d}.wrapper.register[_ngcontent-%COMP%]{background:#00c6ff;background:-webkit-linear-gradient(top left,#00c6ff 0%,#0072ff 100%);background:-moz-linear-gradient(top left,#00c6ff 0%,#0072ff 100%);background:-o-linear-gradient(top left,#00c6ff 0%,#0072ff 100%);background:linear-gradient(to bottom right,#00c6ff,#0072ff)}.wrapper.register[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#0cf}.wrapper.form-success[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{transform:translateY(85px)}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;height:100%;text-align:center;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .container-inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .container-inner[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative;z-index:2}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .container-inner[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;transition-duration:1s;transition-timing-function:ease-in-put;color:#fff;margin-top:5px;margin-bottom:30px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .container-inner[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{appearance:none;outline:0;border:1px solid rgba(255,255,255,.4);background-color:#fff3;width:250px;border-radius:3px;padding:10px 15px;margin:0 auto 10px;display:block;text-align:center;font-size:18px;color:#fff;transition-duration:.25s;font-weight:300}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .container-inner[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{background-color:#fff3}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .container-inner[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#fff;background-color:#fff4;width:300px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .container-inner[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{background-color:#ff450007;border-color:#ff450055;color:#ff450088}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .container-inner[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{appearance:none;outline:0;background-color:#fff;border:0;padding:10px 15px;border-radius:3px;width:250px;cursor:pointer;font-size:18px;transition-duration:.25s}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .container-inner[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f5f7f9}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .container-inner[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{pointer-events:none}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .container-inner[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#ff450088;font-size:11px;margin-top:-7px;margin-bottom:12px;text-align:left}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .container-inner[_ngcontent-%COMP%]   #show-password[_ngcontent-%COMP%]{position:absolute;width:24px;height:41px;right:4px;top:1px;display:flex;align-items:center;justify-content:center;background:#fff0}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .container-inner[_ngcontent-%COMP%]   #show-password[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;width:100%;color:#fff}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .container-inner[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]   #show-password[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff450088}.bg-bubbles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;list-style:none;display:block;width:40px;height:40px;background-color:#fff2;bottom:-160px;-webkit-animation:_ngcontent-%COMP%_square 25s infinite;animation:_ngcontent-%COMP%_square 25s infinite;-webkit-transition-timing-function:linear;transition-timing-function:linear}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){left:10%}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){left:20%;width:80px;height:80px;animation-delay:2s;animation-duration:17s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){left:25%;animation-delay:4s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){left:40%;width:60px;height:60px;animation-duration:22s;background-color:#fff4}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){left:70%}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){left:80%;width:120px;height:120px;animation-delay:3s;background-color:#fff2}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7){left:32%;width:160px;height:160px;animation-delay:7s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(8){left:55%;width:20px;height:20px;animation-delay:15s;animation-duration:40s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(9){left:25%;width:10px;height:10px;animation-delay:2s;animation-duration:40s;background-color:#fff5}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(10){left:90%;width:160px;height:160px;animation-delay:11s}@-webkit-keyframes _ngcontent-%COMP%_square{0%{transform:translateY(0)}to{transform:translateY(-700px) rotate(600deg)}}@keyframes _ngcontent-%COMP%_square{0%{transform:translateY(0)}to{transform:translateY(-700px) rotate(600deg)}}"],changeDetection:0})};export{V as a};
