import{a as u}from"./chunk-J46BO3MR.js";import{f as a,l as c}from"./chunk-TI3MP7RG.js";import"./chunk-VN3CQEPZ.js";import"./chunk-SP3QPNC3.js";import"./chunk-SKJWLPIM.js";import"./chunk-CVERQ6DQ.js";import{Ra as r,Xa as o,qb as n,rb as s,yb as m}from"./chunk-6UNQRV3C.js";var p=class i{constructor(t,e){this.authService=t;this.router=e}isSubmitted=!1;ngOnInit(){}onFormSubmit(t){console.log("Form submitted:",t),this.authService.register(t).subscribe({next:e=>{localStorage.setItem("token",e.token),this.authService.currentUserSig.set(e.username),this.authService.SetState(e.username),console.log("Register successful",e),console.log("RegisterComponent Navigating to profile"),this.router.navigate(["/profile"])},error:e=>{console.error("Register failed",e)}}),this.isSubmitted=!0}static \u0275fac=function(e){return new(e||i)(r(c),r(a))};static \u0275cmp=o({type:i,selectors:[["app-register"]],decls:1,vars:0,consts:[["mode","register",3,"formSubmit"]],template:function(e,g){e&1&&(n(0,"app-login-and-register-form",0),m("formSubmit",function(l){return g.onFormSubmit(l)}),s())},dependencies:[u],encapsulation:2,changeDetection:0})};export{p as RegisterComponent};
