import{a as u}from"./chunk-IUA2Y7C5.js";import{f as l,l as p}from"./chunk-KDPEW4AO.js";import"./chunk-VN3CQEPZ.js";import"./chunk-LPACK7KM.js";import{a as g}from"./chunk-IG2USUGW.js";import"./chunk-MGMT3QGW.js";import"./chunk-QFQYABQF.js";import{Ab as m,Sa as i,Za as s,_ as n,sb as a,tb as c}from"./chunk-WHJ4MCBL.js";var f=class o{constructor(r,e){this.authService=r;this.router=e}_snackBar=n(g);isSubmitted=!1;ngOnInit(){}onFormSubmit(r){this.authService.register(r).subscribe({next:e=>{console.log("\u2705 Register successful:",e,"- Navigating to login"),this._snackBar.open("Registered successfully","Close",{panelClass:["snackbar-success"],duration:7500}),this.router.navigate(["/login"])},error:e=>{console.error("Register failed",e);let t=e?.error?.message?e.error.message:typeof e.error=="string"?e.error:e.error?.errors?.title||"An error occurred";this._snackBar.open(t,"Close",{panelClass:["snackbar-error"],duration:12500})}}),this.isSubmitted=!0}static \u0275fac=function(e){return new(e||o)(i(p),i(l))};static \u0275cmp=s({type:o,selectors:[["app-register"]],decls:1,vars:0,consts:[["mode","register",3,"formSubmit"]],template:function(e,t){e&1&&(a(0,"app-login-and-register-form",0),m("formSubmit",function(d){return t.onFormSubmit(d)}),c())},dependencies:[u],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}"],changeDetection:0})};export{f as RegisterComponent};
